function draw(){con.clearRect(0,0,WIDTH,HEIGHT);for(var e=0;e<pxs.length;e++)pxs[e].fade(),pxs[e].move(),pxs[e].draw()}function Circle(){this.s={ttl:5e3,xmax:3,ymax:2,rmax:2,rt:1,xdef:960,ydef:540,xdrift:4,ydrift:4,random:!0,blink:!0},this.reset=function(){this.x=this.s.random?WIDTH*Math.random():this.s.xdef,this.y=this.s.random?HEIGHT*Math.random():this.s.ydef,this.r=(this.s.rmax-1)*Math.random()+1,this.dx=Math.random()*this.s.xmax*(Math.random()<.5?-1:1),this.dy=Math.random()*this.s.ymax*(Math.random()<.5?-1:1),this.hl=this.s.ttl/rint*(this.r/this.s.rmax),this.rt=Math.random()*this.hl,this.s.rt=Math.random()+1,this.stop=.2*Math.random()+.4,this.s.xdrift*=Math.random()*(Math.random()<.5?-1:1),this.s.ydrift*=Math.random()*(Math.random()<.5?-1:1)},this.fade=function(){this.rt+=this.s.rt},this.draw=function(){this.s.blink&&(this.rt<=0||this.rt>=this.hl)?this.s.rt=-1*this.s.rt:this.rt>=this.hl&&this.reset();var e=1-this.rt/this.hl;con.beginPath(),con.arc(this.x,this.y,this.r,0,2*Math.PI,!0),con.closePath();var t=this.r*e;g=con.createRadialGradient(this.x,this.y,0,this.x,this.y,0>=t?1:t),g.addColorStop(0,"rgba(255,255,255,"+e+")"),g.addColorStop(this.stop,"rgba(200, 210, 242,"+.6*e+")"),g.addColorStop(1,"rgba(200, 210, 242,0)"),con.fillStyle=g,con.fill()},this.move=function(){this.x+=this.rt/this.hl*this.dx,this.y+=this.rt/this.hl*this.dy,(this.x>WIDTH||this.x<0)&&(this.dx*=-1),(this.y>HEIGHT||this.y<0)&&(this.dy*=-1)},this.getX=function(){return this.x},this.getY=function(){return this.y}}!function(e,t,n){function o(n,o,i){var a=t.createElement(n);return o&&(a.id=J+o),i&&(a.style.cssText=i),e(a)}function i(){return n.innerHeight?n.innerHeight:e(n).height()}function a(t,n){n!==Object(n)&&(n={}),this.cache={},this.el=t,this.value=function(t){var o;return void 0===this.cache[t]&&(o=e(this.el).attr("data-cbox-"+t),void 0!==o?this.cache[t]=o:void 0!==n[t]?this.cache[t]=n[t]:void 0!==Q[t]&&(this.cache[t]=Q[t])),this.cache[t]},this.get=function(t){var n=this.value(t);return e.isFunction(n)?n.call(this.el,this):n}}function r(e){var t=B.length,n=(j+e)%t;return 0>n?t+n:n}function s(e,t){return Math.round((/%/.test(e)?("x"===t?k.width():i())/100:1)*parseInt(e,10))}function l(e,t){return e.get("photo")||e.get("photoRegex").test(t)}function c(e,t){return e.get("retinaUrl")&&n.devicePixelRatio>1?t.replace(e.get("photoRegex"),e.get("retinaSuffix")):t}function d(e){"contains"in w[0]&&!w[0].contains(e.target)&&e.target!==x[0]&&(e.stopPropagation(),w.focus())}function u(e){u.str!==e&&(w.add(x).removeClass(u.str).addClass(e),u.str=e)}function h(t){j=0,t&&t!==!1&&"nofollow"!==t?(B=e("."+et).filter(function(){var n=e.data(this,Z),o=new a(this,n);return o.get("rel")===t}),j=B.index(P.el),-1===j&&(B=B.add(P.el),j=B.length-1)):B=e(P.el)}function f(n){e(t).trigger(n),st.triggerHandler(n)}function m(n){var i;if(!Y){if(i=e(n).data(Z),P=new a(n,i),h(P.get("rel")),!X){X=N=!0,u(P.get("className")),w.css({visibility:"hidden",display:"block",opacity:""}),M=o(lt,"LoadedContent","width:0; height:0; overflow:hidden; visibility:hidden"),b.css({width:"",height:""}).append(M),z=S.height()+T.height()+b.outerHeight(!0)-b.height(),q=_.width()+C.width()+b.outerWidth(!0)-b.width(),F=M.outerHeight(!0),U=M.outerWidth(!0);var r=s(P.get("initialWidth"),"x"),l=s(P.get("initialHeight"),"y"),c=P.get("maxWidth"),m=P.get("maxHeight");P.w=(c!==!1?Math.min(r,s(c,"x")):r)-U-q,P.h=(m!==!1?Math.min(l,s(m,"y")):l)-F-z,M.css({width:"",height:P.h}),G.position(),f(tt),P.get("onOpen"),R.add(E).hide(),w.focus(),P.get("trapFocus")&&t.addEventListener&&(t.addEventListener("focus",d,!0),st.one(at,function(){t.removeEventListener("focus",d,!0)})),P.get("returnFocus")&&st.one(at,function(){e(P.el).focus()})}var p=parseFloat(P.get("opacity"));x.css({opacity:p===p?p:"",cursor:P.get("overlayClose")?"pointer":"",visibility:"visible"}).show(),P.get("closeButton")?A.html(P.get("close")).appendTo(b):A.appendTo("<div/>"),v()}}function p(){w||(V=!1,k=e(n),w=o(lt).attr({id:Z,"class":e.support.opacity===!1?J+"IE":"",role:"dialog",tabindex:"-1"}).hide(),x=o(lt,"Overlay").hide(),O=e([o(lt,"LoadingOverlay")[0],o(lt,"LoadingGraphic")[0]]),y=o(lt,"Wrapper"),b=o(lt,"Content").append(E=o(lt,"Title"),D=o(lt,"Current"),L=e('<button type="button"/>').attr({id:J+"Previous"}),W=e('<button type="button"/>').attr({id:J+"Next"}),H=o("button","Slideshow"),O),A=e('<button type="button"/>').attr({id:J+"Close"}),y.append(o(lt).append(o(lt,"TopLeft"),S=o(lt,"TopCenter"),o(lt,"TopRight")),o(lt,!1,"clear:left").append(_=o(lt,"MiddleLeft"),b,C=o(lt,"MiddleRight")),o(lt,!1,"clear:left").append(o(lt,"BottomLeft"),T=o(lt,"BottomCenter"),o(lt,"BottomRight"))).find("div div").css({"float":"left"}),I=o(lt,!1,"position:absolute; width:9999px; visibility:hidden; display:none; max-width:none;"),R=W.add(L).add(D).add(H)),t.body&&!w.parent().length&&e(t.body).append(x,w.append(y,I))}function g(){function n(e){e.which>1||e.shiftKey||e.altKey||e.metaKey||e.ctrlKey||(e.preventDefault(),m(this))}return w?(V||(V=!0,W.click(function(){G.next()}),L.click(function(){G.prev()}),A.click(function(){G.close()}),x.click(function(){P.get("overlayClose")&&G.close()}),e(t).bind("keydown."+J,function(e){var t=e.keyCode;X&&P.get("escKey")&&27===t&&(e.preventDefault(),G.close()),X&&P.get("arrowKey")&&B[1]&&!e.altKey&&(37===t?(e.preventDefault(),L.click()):39===t&&(e.preventDefault(),W.click()))}),e.isFunction(e.fn.on)?e(t).on("click."+J,"."+et,n):e("."+et).live("click."+J,n)),!0):!1}function v(){var t,i,a,r=G.prep,d=++ct;if(N=!0,$=!1,f(rt),f(nt),P.get("onLoad"),P.h=P.get("height")?s(P.get("height"),"y")-F-z:P.get("innerHeight")&&s(P.get("innerHeight"),"y"),P.w=P.get("width")?s(P.get("width"),"x")-U-q:P.get("innerWidth")&&s(P.get("innerWidth"),"x"),P.mw=P.w,P.mh=P.h,P.get("maxWidth")&&(P.mw=s(P.get("maxWidth"),"x")-U-q,P.mw=P.w&&P.w<P.mw?P.w:P.mw),P.get("maxHeight")&&(P.mh=s(P.get("maxHeight"),"y")-F-z,P.mh=P.h&&P.h<P.mh?P.h:P.mh),t=P.get("href"),K=setTimeout(function(){O.show()},100),P.get("inline")){var u=e(t);a=e("<div>").hide().insertBefore(u),st.one(rt,function(){a.replaceWith(u)}),r(u)}else P.get("iframe")?r(" "):P.get("html")?r(P.get("html")):l(P,t)?(t=c(P,t),$=new Image,e($).addClass(J+"Photo").bind("error",function(){r(o(lt,"Error").html(P.get("imgError")))}).one("load",function(){d===ct&&setTimeout(function(){var t;e.each(["alt","longdesc","aria-describedby"],function(t,n){var o=e(P.el).attr(n)||e(P.el).attr("data-"+n);o&&$.setAttribute(n,o)}),P.get("retinaImage")&&n.devicePixelRatio>1&&($.height=$.height/n.devicePixelRatio,$.width=$.width/n.devicePixelRatio),P.get("scalePhotos")&&(i=function(){$.height-=$.height*t,$.width-=$.width*t},P.mw&&$.width>P.mw&&(t=($.width-P.mw)/$.width,i()),P.mh&&$.height>P.mh&&(t=($.height-P.mh)/$.height,i())),P.h&&($.style.marginTop=Math.max(P.mh-$.height,0)/2+"px"),B[1]&&(P.get("loop")||B[j+1])&&($.style.cursor="pointer",$.onclick=function(){G.next()}),$.style.width=$.width+"px",$.style.height=$.height+"px",r($)},1)}),$.src=t):t&&I.load(t,P.get("data"),function(t,n){d===ct&&r("error"===n?o(lt,"Error").html(P.get("xhrError")):e(this).contents())})}var x,w,y,b,S,_,C,T,B,k,M,I,O,E,D,H,W,L,A,R,P,z,q,F,U,j,$,X,N,Y,K,G,V,Q={html:!1,photo:!1,iframe:!1,inline:!1,transition:"elastic",speed:300,fadeOut:300,width:!1,initialWidth:"600",innerWidth:!1,maxWidth:!1,height:!1,initialHeight:"450",innerHeight:!1,maxHeight:!1,scalePhotos:!0,scrolling:!0,opacity:.9,preloading:!0,className:!1,overlayClose:!0,escKey:!0,arrowKey:!0,top:!1,bottom:!1,left:!1,right:!1,fixed:!1,data:void 0,closeButton:!0,fastIframe:!0,open:!1,reposition:!0,loop:!0,slideshow:!1,slideshowAuto:!0,slideshowSpeed:2500,slideshowStart:"start slideshow",slideshowStop:"stop slideshow",photoRegex:/\.(gif|png|jp(e|g|eg)|bmp|ico|webp|jxr|svg)((#|\?).*)?$/i,retinaImage:!1,retinaUrl:!1,retinaSuffix:"@2x.$1",current:"image {current} of {total}",previous:"previous",next:"next",close:"close",xhrError:"This content failed to load.",imgError:"This image failed to load.",returnFocus:!0,trapFocus:!0,onOpen:!1,onLoad:!1,onComplete:!1,onCleanup:!1,onClosed:!1,rel:function(){return this.rel},href:function(){return e(this).attr("href")},title:function(){return this.title}},Z="colorbox",J="cbox",et=J+"Element",tt=J+"_open",nt=J+"_load",ot=J+"_complete",it=J+"_cleanup",at=J+"_closed",rt=J+"_purge",st=e("<a/>"),lt="div",ct=0,dt={},ut=function(){function e(){clearTimeout(r)}function t(){(P.get("loop")||B[j+1])&&(e(),r=setTimeout(G.next,P.get("slideshowSpeed")))}function n(){H.html(P.get("slideshowStop")).unbind(l).one(l,o),st.bind(ot,t).bind(nt,e),w.removeClass(s+"off").addClass(s+"on")}function o(){e(),st.unbind(ot,t).unbind(nt,e),H.html(P.get("slideshowStart")).unbind(l).one(l,function(){G.next(),n()}),w.removeClass(s+"on").addClass(s+"off")}function i(){a=!1,H.hide(),e(),st.unbind(ot,t).unbind(nt,e),w.removeClass(s+"off "+s+"on")}var a,r,s=J+"Slideshow_",l="click."+J;return function(){a?P.get("slideshow")||(st.unbind(it,i),i()):P.get("slideshow")&&B[1]&&(a=!0,st.one(it,i),P.get("slideshowAuto")?n():o(),H.show())}}();e[Z]||(e(p),G=e.fn[Z]=e[Z]=function(t,n){var o,i=this;if(t=t||{},e.isFunction(i))i=e("<a/>"),t.open=!0;else if(!i[0])return i;return i[0]?(p(),g()&&(n&&(t.onComplete=n),i.each(function(){var n=e.data(this,Z)||{};e.data(this,Z,e.extend(n,t))}).addClass(et),o=new a(i[0],t),o.get("open")&&m(i[0])),i):i},G.position=function(t,n){function o(){S[0].style.width=T[0].style.width=b[0].style.width=parseInt(w[0].style.width,10)-q+"px",b[0].style.height=_[0].style.height=C[0].style.height=parseInt(w[0].style.height,10)-z+"px"}var a,r,l,c=0,d=0,u=w.offset();if(k.unbind("resize."+J),w.css({top:-9e4,left:-9e4}),r=k.scrollTop(),l=k.scrollLeft(),P.get("fixed")?(u.top-=r,u.left-=l,w.css({position:"fixed"})):(c=r,d=l,w.css({position:"absolute"})),d+=P.get("right")!==!1?Math.max(k.width()-P.w-U-q-s(P.get("right"),"x"),0):P.get("left")!==!1?s(P.get("left"),"x"):Math.round(Math.max(k.width()-P.w-U-q,0)/2),c+=P.get("bottom")!==!1?Math.max(i()-P.h-F-z-s(P.get("bottom"),"y"),0):P.get("top")!==!1?s(P.get("top"),"y"):Math.round(Math.max(i()-P.h-F-z,0)/2),w.css({top:u.top,left:u.left,visibility:"visible"}),y[0].style.width=y[0].style.height="9999px",a={width:P.w+U+q,height:P.h+F+z,top:c,left:d},t){var h=0;e.each(a,function(e){return a[e]!==dt[e]?void(h=t):void 0}),t=h}dt=a,t||w.css(a),w.dequeue().animate(a,{duration:t||0,complete:function(){o(),N=!1,y[0].style.width=P.w+U+q+"px",y[0].style.height=P.h+F+z+"px",P.get("reposition")&&setTimeout(function(){k.bind("resize."+J,G.position)},1),e.isFunction(n)&&n()},step:o})},G.resize=function(e){var t;X&&(e=e||{},e.width&&(P.w=s(e.width,"x")-U-q),e.innerWidth&&(P.w=s(e.innerWidth,"x")),M.css({width:P.w}),e.height&&(P.h=s(e.height,"y")-F-z),e.innerHeight&&(P.h=s(e.innerHeight,"y")),e.innerHeight||e.height||(t=M.scrollTop(),M.css({height:"auto"}),P.h=M.height()),M.css({height:P.h}),t&&M.scrollTop(t),G.position("none"===P.get("transition")?0:P.get("speed")))},G.prep=function(n){function i(){return P.w=P.w||M.width(),P.w=P.mw&&P.mw<P.w?P.mw:P.w,P.w}function s(){return P.h=P.h||M.height(),P.h=P.mh&&P.mh<P.h?P.mh:P.h,P.h}if(X){var d,h="none"===P.get("transition")?0:P.get("speed");M.remove(),M=o(lt,"LoadedContent").append(n),M.hide().appendTo(I.show()).css({width:i(),overflow:P.get("scrolling")?"auto":"hidden"}).css({height:s()}).prependTo(b),I.hide(),e($).css({"float":"none"}),u(P.get("className")),d=function(){function n(){e.support.opacity===!1&&w[0].style.removeAttribute("filter")}var o,i,s=B.length;X&&(i=function(){clearTimeout(K),O.hide(),f(ot),P.get("onComplete")},E.html(P.get("title")).show(),M.show(),s>1?("string"==typeof P.get("current")&&D.html(P.get("current").replace("{current}",j+1).replace("{total}",s)).show(),W[P.get("loop")||s-1>j?"show":"hide"]().html(P.get("next")),L[P.get("loop")||j?"show":"hide"]().html(P.get("previous")),ut(),P.get("preloading")&&e.each([r(-1),r(1)],function(){var n,o=B[this],i=new a(o,e.data(o,Z)),r=i.get("href");r&&l(i,r)&&(r=c(i,r),n=t.createElement("img"),n.src=r)})):R.hide(),P.get("iframe")?(o=t.createElement("iframe"),"frameBorder"in o&&(o.frameBorder=0),"allowTransparency"in o&&(o.allowTransparency="true"),P.get("scrolling")||(o.scrolling="no"),e(o).attr({src:P.get("href"),name:(new Date).getTime(),"class":J+"Iframe",allowFullScreen:!0}).one("load",i).appendTo(M),st.one(rt,function(){o.src="//about:blank"}),P.get("fastIframe")&&e(o).trigger("load")):i(),"fade"===P.get("transition")?w.fadeTo(h,1,n):n())},"fade"===P.get("transition")?w.fadeTo(h,0,function(){G.position(0,d)}):G.position(h,d)}},G.next=function(){!N&&B[1]&&(P.get("loop")||B[j+1])&&(j=r(1),m(B[j]))},G.prev=function(){!N&&B[1]&&(P.get("loop")||j)&&(j=r(-1),m(B[j]))},G.close=function(){X&&!Y&&(Y=!0,X=!1,f(it),P.get("onCleanup"),k.unbind("."+J),x.fadeTo(P.get("fadeOut")||0,0),w.stop().fadeTo(P.get("fadeOut")||0,0,function(){w.hide(),x.hide(),f(rt),M.remove(),setTimeout(function(){Y=!1,f(at),P.get("onClosed")},1)}))},G.remove=function(){w&&(w.stop(),e[Z].close(),w.stop(!1,!0).remove(),x.remove(),Y=!1,w=null,e("."+et).removeData(Z).removeClass(et),e(t).unbind("click."+J).unbind("keydown."+J))},G.element=function(){return e(P.el)},G.settings=Q)}(jQuery,document,window),!function(e){"function"==typeof define&&define.amd?define(["jquery"],e):"object"==typeof exports?module.exports=e:e(jQuery)}(function(e){function t(t){var r=t||window.event,s=l.call(arguments,1),c=0,u=0,h=0,f=0,m=0,p=0;if(t=e.event.fix(r),t.type="mousewheel","detail"in r&&(h=-1*r.detail),"wheelDelta"in r&&(h=r.wheelDelta),"wheelDeltaY"in r&&(h=r.wheelDeltaY),"wheelDeltaX"in r&&(u=-1*r.wheelDeltaX),"axis"in r&&r.axis===r.HORIZONTAL_AXIS&&(u=-1*h,h=0),c=0===h?u:h,"deltaY"in r&&(h=-1*r.deltaY,c=h),"deltaX"in r&&(u=r.deltaX,0===h&&(c=-1*u)),0!==h||0!==u){if(1===r.deltaMode){var g=e.data(this,"mousewheel-line-height");c*=g,h*=g,u*=g}else if(2===r.deltaMode){var v=e.data(this,"mousewheel-page-height");c*=v,h*=v,u*=v}if(f=Math.max(Math.abs(h),Math.abs(u)),(!a||a>f)&&(a=f,o(r,f)&&(a/=40)),o(r,f)&&(c/=40,u/=40,h/=40),c=Math[c>=1?"floor":"ceil"](c/a),u=Math[u>=1?"floor":"ceil"](u/a),h=Math[h>=1?"floor":"ceil"](h/a),d.settings.normalizeOffset&&this.getBoundingClientRect){var x=this.getBoundingClientRect();m=t.clientX-x.left,p=t.clientY-x.top}return t.deltaX=u,t.deltaY=h,t.deltaFactor=a,t.offsetX=m,t.offsetY=p,t.deltaMode=0,s.unshift(t,c,u,h),i&&clearTimeout(i),i=setTimeout(n,200),(e.event.dispatch||e.event.handle).apply(this,s)}}function n(){a=null}function o(e,t){return d.settings.adjustOldDeltas&&"mousewheel"===e.type&&t%120===0}var i,a,r=["wheel","mousewheel","DOMMouseScroll","MozMousePixelScroll"],s="onwheel"in document||document.documentMode>=9?["wheel"]:["mousewheel","DomMouseScroll","MozMousePixelScroll"],l=Array.prototype.slice;if(e.event.fixHooks)for(var c=r.length;c;)e.event.fixHooks[r[--c]]=e.event.mouseHooks;var d=e.event.special.mousewheel={version:"3.1.12",setup:function(){if(this.addEventListener)for(var n=s.length;n;)this.addEventListener(s[--n],t,!1);else this.onmousewheel=t;e.data(this,"mousewheel-line-height",d.getLineHeight(this)),e.data(this,"mousewheel-page-height",d.getPageHeight(this))},teardown:function(){if(this.removeEventListener)for(var n=s.length;n;)this.removeEventListener(s[--n],t,!1);else this.onmousewheel=null;e.removeData(this,"mousewheel-line-height"),e.removeData(this,"mousewheel-page-height")},getLineHeight:function(t){var n=e(t),o=n["offsetParent"in e.fn?"offsetParent":"parent"]();return o.length||(o=e("body")),parseInt(o.css("fontSize"),10)||parseInt(n.css("fontSize"),10)||16},getPageHeight:function(t){return e(t).height()},settings:{adjustOldDeltas:!0,normalizeOffset:!0}};e.fn.extend({mousewheel:function(e){return e?this.bind("mousewheel",e):this.trigger("mousewheel")},unmousewheel:function(e){return this.unbind("mousewheel",e)}})}),!function(e,t,n){!function(t){var o="function"==typeof define&&define.amd,i="https:"==n.location.protocol?"https:":"http:",a="cdnjs.cloudflare.com/ajax/libs/jquery-mousewheel/3.1.12/jquery.mousewheel.min.js";o||e.event.special.mousewheel||e("head").append(decodeURI("%3Cscript src="+i+"//"+a+"%3E%3C/script%3E")),t()}(function(){var o,i="mCustomScrollbar",a="mCS",r=".mCustomScrollbar",s={setTop:0,setLeft:0,axis:"y",scrollbarPosition:"inside",scrollInertia:950,autoDraggerLength:!0,alwaysShowScrollbar:0,snapOffset:0,mouseWheel:{enable:!0,scrollAmount:"auto",axis:"y",deltaFactor:"auto",disableOver:["select","option","keygen","datalist","textarea"]},scrollButtons:{scrollType:"stepless",scrollAmount:"auto"},keyboard:{enable:!0,scrollType:"stepless",scrollAmount:"auto"},contentTouchScroll:25,advanced:{autoScrollOnFocus:"input,textarea,select,button,datalist,keygen,a[tabindex],area,object,[contenteditable='true']",updateOnContentResize:!0,updateOnImageLoad:!0},theme:"light",callbacks:{onTotalScrollOffset:0,onTotalScrollBackOffset:0,alwaysTriggerOffsets:!0}},l=0,c={},d=t.attachEvent&&!t.addEventListener?1:0,u=!1,h=["mCSB_dragger_onDrag","mCSB_scrollTools_onDrag","mCS_img_loaded","mCS_disabled","mCS_destroyed","mCS_no_scrollbar","mCS-autoHide","mCS-dir-rtl","mCS_no_scrollbar_y","mCS_no_scrollbar_x","mCS_y_hidden","mCS_x_hidden","mCSB_draggerContainer","mCSB_buttonUp","mCSB_buttonDown","mCSB_buttonLeft","mCSB_buttonRight"],f={init:function(t){var t=e.extend(!0,{},s,t),n=m.call(this);if(t.live){var o=t.liveSelector||this.selector||r,i=e(o);if("off"===t.live)return void g(o);c[o]=setTimeout(function(){i.mCustomScrollbar(t),"once"===t.live&&i.length&&g(o)},500)}else g(o);return t.setWidth=t.set_width?t.set_width:t.setWidth,t.setHeight=t.set_height?t.set_height:t.setHeight,t.axis=t.horizontalScroll?"x":v(t.axis),t.scrollInertia=t.scrollInertia>0&&t.scrollInertia<17?17:t.scrollInertia,"object"!=typeof t.mouseWheel&&1==t.mouseWheel&&(t.mouseWheel={enable:!0,scrollAmount:"auto",axis:"y",preventDefault:!1,deltaFactor:"auto",normalizeDelta:!1,invert:!1}),t.mouseWheel.scrollAmount=t.mouseWheelPixels?t.mouseWheelPixels:t.mouseWheel.scrollAmount,t.mouseWheel.normalizeDelta=t.advanced.normalizeMouseWheelDelta?t.advanced.normalizeMouseWheelDelta:t.mouseWheel.normalizeDelta,t.scrollButtons.scrollType=x(t.scrollButtons.scrollType),p(t),e(n).each(function(){var n=e(this);if(!n.data(a)){n.data(a,{idx:++l,opt:t,scrollRatio:{y:null,x:null},overflowed:null,contentReset:{y:null,x:null},bindEvents:!1,tweenRunning:!1,sequential:{},langDir:n.css("direction"),cbOffsets:null,trigger:null});var o=n.data(a),i=o.opt,r=n.data("mcs-axis"),s=n.data("mcs-scrollbar-position"),c=n.data("mcs-theme");r&&(i.axis=r),s&&(i.scrollbarPosition=s),c&&(i.theme=c,p(i)),w.call(this),e("#mCSB_"+o.idx+"_container img:not(."+h[2]+")").addClass(h[2]),f.update.call(null,n)}})},update:function(t,n){var o=t||m.call(this);return e(o).each(function(){var t=e(this);if(t.data(a)){var o=t.data(a),i=o.opt,r=e("#mCSB_"+o.idx+"_container"),s=[e("#mCSB_"+o.idx+"_dragger_vertical"),e("#mCSB_"+o.idx+"_dragger_horizontal")];if(!r.length)return;o.tweenRunning&&K(t),t.hasClass(h[3])&&t.removeClass(h[3]),t.hasClass(h[4])&&t.removeClass(h[4]),_.call(this),b.call(this),"y"===i.axis||i.advanced.autoExpandHorizontalScroll||r.css("width",y(r.children())),o.overflowed=k.call(this),E.call(this),i.autoDraggerLength&&C.call(this),T.call(this),I.call(this);var l=[Math.abs(r[0].offsetTop),Math.abs(r[0].offsetLeft)];"x"!==i.axis&&(o.overflowed[0]?s[0].height()>s[0].parent().height()?M.call(this):(G(t,l[0].toString(),{dir:"y",dur:0,overwrite:"none"}),o.contentReset.y=null):(M.call(this),"y"===i.axis?O.call(this):"yx"===i.axis&&o.overflowed[1]&&G(t,l[1].toString(),{dir:"x",dur:0,overwrite:"none"}))),"y"!==i.axis&&(o.overflowed[1]?s[1].width()>s[1].parent().width()?M.call(this):(G(t,l[1].toString(),{dir:"x",dur:0,overwrite:"none"}),o.contentReset.x=null):(M.call(this),"x"===i.axis?O.call(this):"yx"===i.axis&&o.overflowed[0]&&G(t,l[0].toString(),{dir:"y",dur:0,overwrite:"none"}))),n&&o&&(2===n&&i.callbacks.onImageLoad&&"function"==typeof i.callbacks.onImageLoad?i.callbacks.onImageLoad.call(this):3===n&&i.callbacks.onSelectorChange&&"function"==typeof i.callbacks.onSelectorChange?i.callbacks.onSelectorChange.call(this):i.callbacks.onUpdate&&"function"==typeof i.callbacks.onUpdate&&i.callbacks.onUpdate.call(this)),N.call(this)}})},scrollTo:function(t,n){if("undefined"!=typeof t&&null!=t){var o=m.call(this);return e(o).each(function(){var o=e(this);if(o.data(a)){var i=o.data(a),r=i.opt,s={trigger:"external",scrollInertia:r.scrollInertia,scrollEasing:"mcsEaseInOut",moveDragger:!1,timeout:60,callbacks:!0,onStart:!0,onUpdate:!0,onComplete:!0},l=e.extend(!0,{},s,n),c=$.call(this,t),d=l.scrollInertia>0&&l.scrollInertia<17?17:l.scrollInertia;c[0]=X.call(this,c[0],"y"),c[1]=X.call(this,c[1],"x"),l.moveDragger&&(c[0]*=i.scrollRatio.y,c[1]*=i.scrollRatio.x),l.dur=d,setTimeout(function(){null!==c[0]&&"undefined"!=typeof c[0]&&"x"!==r.axis&&i.overflowed[0]&&(l.dir="y",l.overwrite="all",G(o,c[0].toString(),l)),null!==c[1]&&"undefined"!=typeof c[1]&&"y"!==r.axis&&i.overflowed[1]&&(l.dir="x",l.overwrite="none",G(o,c[1].toString(),l))},l.timeout)}})}},stop:function(){var t=m.call(this);return e(t).each(function(){var t=e(this);t.data(a)&&K(t)})},disable:function(t){var n=m.call(this);return e(n).each(function(){var n=e(this);n.data(a)&&(n.data(a),N.call(this,"remove"),O.call(this),t&&M.call(this),E.call(this,!0),n.addClass(h[3]))})},destroy:function(){var t=m.call(this);return e(t).each(function(){var n=e(this);if(n.data(a)){var o=n.data(a),r=o.opt,s=e("#mCSB_"+o.idx),l=e("#mCSB_"+o.idx+"_container"),c=e(".mCSB_"+o.idx+"_scrollbar");r.live&&g(r.liveSelector||e(t).selector),N.call(this,"remove"),O.call(this),M.call(this),n.removeData(a),J(this,"mcs"),c.remove(),l.find("img."+h[2]).removeClass(h[2]),s.replaceWith(l.contents()),n.removeClass(i+" _"+a+"_"+o.idx+" "+h[6]+" "+h[7]+" "+h[5]+" "+h[3]).addClass(h[4])}})}},m=function(){return"object"!=typeof e(this)||e(this).length<1?r:this},p=function(t){var n=["rounded","rounded-dark","rounded-dots","rounded-dots-dark"],o=["rounded-dots","rounded-dots-dark","3d","3d-dark","3d-thick","3d-thick-dark","inset","inset-dark","inset-2","inset-2-dark","inset-3","inset-3-dark"],i=["minimal","minimal-dark"],a=["minimal","minimal-dark"],r=["minimal","minimal-dark"];t.autoDraggerLength=e.inArray(t.theme,n)>-1?!1:t.autoDraggerLength,t.autoExpandScrollbar=e.inArray(t.theme,o)>-1?!1:t.autoExpandScrollbar,t.scrollButtons.enable=e.inArray(t.theme,i)>-1?!1:t.scrollButtons.enable,t.autoHideScrollbar=e.inArray(t.theme,a)>-1?!0:t.autoHideScrollbar,t.scrollbarPosition=e.inArray(t.theme,r)>-1?"outside":t.scrollbarPosition},g=function(e){c[e]&&(clearTimeout(c[e]),J(c,e))},v=function(e){return"yx"===e||"xy"===e||"auto"===e?"yx":"x"===e||"horizontal"===e?"x":"y"},x=function(e){return"stepped"===e||"pixels"===e||"step"===e||"click"===e?"stepped":"stepless"},w=function(){var t=e(this),n=t.data(a),o=n.opt,r=o.autoExpandScrollbar?" "+h[1]+"_expand":"",s=["<div id='mCSB_"+n.idx+"_scrollbar_vertical' class='mCSB_scrollTools mCSB_"+n.idx+"_scrollbar mCS-"+o.theme+" mCSB_scrollTools_vertical"+r+"'><div class='"+h[12]+"'><div id='mCSB_"+n.idx+"_dragger_vertical' class='mCSB_dragger' style='position:absolute;' oncontextmenu='return false;'><div class='mCSB_dragger_bar' /></div><div class='mCSB_draggerRail' /></div></div>","<div id='mCSB_"+n.idx+"_scrollbar_horizontal' class='mCSB_scrollTools mCSB_"+n.idx+"_scrollbar mCS-"+o.theme+" mCSB_scrollTools_horizontal"+r+"'><div class='"+h[12]+"'><div id='mCSB_"+n.idx+"_dragger_horizontal' class='mCSB_dragger' style='position:absolute;' oncontextmenu='return false;'><div class='mCSB_dragger_bar' /></div><div class='mCSB_draggerRail' /></div></div>"],l="yx"===o.axis?"mCSB_vertical_horizontal":"x"===o.axis?"mCSB_horizontal":"mCSB_vertical",c="yx"===o.axis?s[0]+s[1]:"x"===o.axis?s[1]:s[0],d="yx"===o.axis?"<div id='mCSB_"+n.idx+"_container_wrapper' class='mCSB_container_wrapper' />":"",u=o.autoHideScrollbar?" "+h[6]:"",f="x"!==o.axis&&"rtl"===n.langDir?" "+h[7]:"";o.setWidth&&t.css("width",o.setWidth),o.setHeight&&t.css("height",o.setHeight),o.setLeft="y"!==o.axis&&"rtl"===n.langDir?"989999px":o.setLeft,t.addClass(i+" _"+a+"_"+n.idx+u+f).wrapInner("<div id='mCSB_"+n.idx+"' class='mCustomScrollBox mCS-"+o.theme+" "+l+"'><div id='mCSB_"+n.idx+"_container' class='mCSB_container' style='position:relative; top:"+o.setTop+"; left:"+o.setLeft+";' dir="+n.langDir+" /></div>");var m=e("#mCSB_"+n.idx),p=e("#mCSB_"+n.idx+"_container");"y"===o.axis||o.advanced.autoExpandHorizontalScroll||p.css("width",y(p.children())),"outside"===o.scrollbarPosition?("static"===t.css("position")&&t.css("position","relative"),t.css("overflow","visible"),m.addClass("mCSB_outside").after(c)):(m.addClass("mCSB_inside").append(c),p.wrap(d)),S.call(this);var g=[e("#mCSB_"+n.idx+"_dragger_vertical"),e("#mCSB_"+n.idx+"_dragger_horizontal")];g[0].css("min-height",g[0].height()),g[1].css("min-width",g[1].width())},y=function(t){return Math.max.apply(Math,t.map(function(){return e(this).outerWidth(!0)}).get())},b=function(){var t=e(this),n=t.data(a),o=n.opt,i=e("#mCSB_"+n.idx+"_container");o.advanced.autoExpandHorizontalScroll&&"y"!==o.axis&&i.css({position:"absolute",width:"auto"}).wrap("<div class='mCSB_h_wrapper' style='position:relative; left:0; width:999999px;' />").css({width:Math.ceil(i[0].getBoundingClientRect().right+.4)-Math.floor(i[0].getBoundingClientRect().left),position:"relative"}).unwrap()},S=function(){var t=e(this),n=t.data(a),o=n.opt,i=e(".mCSB_"+n.idx+"_scrollbar:first"),r=nt(o.scrollButtons.tabindex)?"tabindex='"+o.scrollButtons.tabindex+"'":"",s=["<a href='#' class='"+h[13]+"' oncontextmenu='return false;' "+r+" />","<a href='#' class='"+h[14]+"' oncontextmenu='return false;' "+r+" />","<a href='#' class='"+h[15]+"' oncontextmenu='return false;' "+r+" />","<a href='#' class='"+h[16]+"' oncontextmenu='return false;' "+r+" />"],l=["x"===o.axis?s[2]:s[0],"x"===o.axis?s[3]:s[1],s[2],s[3]];o.scrollButtons.enable&&i.prepend(l[0]).append(l[1]).next(".mCSB_scrollTools").prepend(l[2]).append(l[3])},_=function(){var t=e(this),n=t.data(a),o=e("#mCSB_"+n.idx),i=t.css("max-height")||"none",r=-1!==i.indexOf("%"),s=t.css("box-sizing");if("none"!==i){var l=r?t.parent().height()*parseInt(i)/100:parseInt(i);"border-box"===s&&(l-=t.innerHeight()-t.height()+(t.outerHeight()-t.innerHeight())),o.css("max-height",Math.round(l))}},C=function(){var t=e(this),n=t.data(a),o=e("#mCSB_"+n.idx),i=e("#mCSB_"+n.idx+"_container"),r=[e("#mCSB_"+n.idx+"_dragger_vertical"),e("#mCSB_"+n.idx+"_dragger_horizontal")],s=[o.height()/i.outerHeight(!1),o.width()/i.outerWidth(!1)],l=[parseInt(r[0].css("min-height")),Math.round(s[0]*r[0].parent().height()),parseInt(r[1].css("min-width")),Math.round(s[1]*r[1].parent().width())],c=d&&l[1]<l[0]?l[0]:l[1],u=d&&l[3]<l[2]?l[2]:l[3];r[0].css({height:c,"max-height":r[0].parent().height()-10}).find(".mCSB_dragger_bar").css({"line-height":l[0]+"px"}),r[1].css({width:u,"max-width":r[1].parent().width()-10})},T=function(){var t=e(this),n=t.data(a),o=e("#mCSB_"+n.idx),i=e("#mCSB_"+n.idx+"_container"),r=[e("#mCSB_"+n.idx+"_dragger_vertical"),e("#mCSB_"+n.idx+"_dragger_horizontal")],s=[i.outerHeight(!1)-o.height(),i.outerWidth(!1)-o.width()],l=[s[0]/(r[0].parent().height()-r[0].height()),s[1]/(r[1].parent().width()-r[1].width())];n.scrollRatio={y:l[0],x:l[1]}},B=function(e,t,n){var o=n?h[0]+"_expanded":"",i=e.closest(".mCSB_scrollTools");"active"===t?(e.toggleClass(h[0]+" "+o),i.toggleClass(h[1]),e[0]._draggable=e[0]._draggable?0:1):e[0]._draggable||("hide"===t?(e.removeClass(h[0]),i.removeClass(h[1])):(e.addClass(h[0]),i.addClass(h[1])))},k=function(){var t=e(this),n=t.data(a),o=e("#mCSB_"+n.idx),i=e("#mCSB_"+n.idx+"_container"),r=null==n.overflowed?i.height():i.outerHeight(!1),s=null==n.overflowed?i.width():i.outerWidth(!1);return[r>o.height(),s>o.width()]},M=function(){var t=e(this),n=t.data(a),o=n.opt,i=e("#mCSB_"+n.idx),r=e("#mCSB_"+n.idx+"_container"),s=[e("#mCSB_"+n.idx+"_dragger_vertical"),e("#mCSB_"+n.idx+"_dragger_horizontal")];if(K(t),("x"!==o.axis&&!n.overflowed[0]||"y"===o.axis&&n.overflowed[0])&&(s[0].add(r).css("top",0),G(t,"_resetY")),"y"!==o.axis&&!n.overflowed[1]||"x"===o.axis&&n.overflowed[1]){var l=dx=0;"rtl"===n.langDir&&(l=i.width()-r.outerWidth(!1),dx=Math.abs(l/n.scrollRatio.x)),r.css("left",l),s[1].css("left",dx),G(t,"_resetX")}},I=function(){function t(){r=setTimeout(function(){e.event.special.mousewheel?(clearTimeout(r),A.call(n[0])):t()},100)}var n=e(this),o=n.data(a),i=o.opt;if(!o.bindEvents){if(H.call(this),i.contentTouchScroll&&W.call(this),L.call(this),i.mouseWheel.enable){var r;t()}P.call(this),q.call(this),i.advanced.autoScrollOnFocus&&z.call(this),i.scrollButtons.enable&&F.call(this),i.keyboard.enable&&U.call(this),o.bindEvents=!0}},O=function(){var t=e(this),o=t.data(a),i=o.opt,r=a+"_"+o.idx,s=".mCSB_"+o.idx+"_scrollbar",l=e("#mCSB_"+o.idx+",#mCSB_"+o.idx+"_container,#mCSB_"+o.idx+"_container_wrapper,"+s+" ."+h[12]+",#mCSB_"+o.idx+"_dragger_vertical,#mCSB_"+o.idx+"_dragger_horizontal,"+s+">a"),c=e("#mCSB_"+o.idx+"_container");i.advanced.releaseDraggableSelectors&&l.add(e(i.advanced.releaseDraggableSelectors)),o.bindEvents&&(e(n).unbind("."+r),l.each(function(){e(this).unbind("."+r)}),clearTimeout(t[0]._focusTimeout),J(t[0],"_focusTimeout"),clearTimeout(o.sequential.step),J(o.sequential,"step"),clearTimeout(c[0].onCompleteTimeout),J(c[0],"onCompleteTimeout"),o.bindEvents=!1)},E=function(t){var n=e(this),o=n.data(a),i=o.opt,r=e("#mCSB_"+o.idx+"_container_wrapper"),s=r.length?r:e("#mCSB_"+o.idx+"_container"),l=[e("#mCSB_"+o.idx+"_scrollbar_vertical"),e("#mCSB_"+o.idx+"_scrollbar_horizontal")],c=[l[0].find(".mCSB_dragger"),l[1].find(".mCSB_dragger")];"x"!==i.axis&&(o.overflowed[0]&&!t?(l[0].add(c[0]).add(l[0].children("a")).css("display","block"),s.removeClass(h[8]+" "+h[10])):(i.alwaysShowScrollbar?(2!==i.alwaysShowScrollbar&&c[0].css("display","none"),s.removeClass(h[10])):(l[0].css("display","none"),s.addClass(h[10])),s.addClass(h[8]))),"y"!==i.axis&&(o.overflowed[1]&&!t?(l[1].add(c[1]).add(l[1].children("a")).css("display","block"),s.removeClass(h[9]+" "+h[11])):(i.alwaysShowScrollbar?(2!==i.alwaysShowScrollbar&&c[1].css("display","none"),s.removeClass(h[11])):(l[1].css("display","none"),s.addClass(h[11])),s.addClass(h[9]))),o.overflowed[0]||o.overflowed[1]?n.removeClass(h[5]):n.addClass(h[5])},D=function(e){var t=e.type;switch(t){case"pointerdown":case"MSPointerDown":case"pointermove":case"MSPointerMove":case"pointerup":case"MSPointerUp":return[e.originalEvent.pageY,e.originalEvent.pageX,!1];case"touchstart":case"touchmove":case"touchend":var n=e.originalEvent.touches[0]||e.originalEvent.changedTouches[0],o=e.originalEvent.touches.length||e.originalEvent.changedTouches.length;return[n.pageY,n.pageX,o>1];default:return[e.pageY,e.pageX,!1]}},H=function(){function t(e){var t=p.find("iframe");if(t.length){var n=e?"auto":"none";t.css("pointer-events",n)}}function o(e,t,n,o){if(p[0].idleTimer=h.scrollInertia<233?250:0,i.attr("id")===m[1])var a="x",r=(i[0].offsetLeft-t+o)*c.scrollRatio.x;else var a="y",r=(i[0].offsetTop-e+n)*c.scrollRatio.y;G(l,r.toString(),{dir:a,drag:!0})}var i,r,s,l=e(this),c=l.data(a),h=c.opt,f=a+"_"+c.idx,m=["mCSB_"+c.idx+"_dragger_vertical","mCSB_"+c.idx+"_dragger_horizontal"],p=e("#mCSB_"+c.idx+"_container"),g=e("#"+m[0]+",#"+m[1]),v=h.advanced.releaseDraggableSelectors?g.add(e(h.advanced.releaseDraggableSelectors)):g;g.bind("mousedown."+f+" touchstart."+f+" pointerdown."+f+" MSPointerDown."+f,function(o){if(o.stopImmediatePropagation(),o.preventDefault(),et(o)){u=!0,d&&(n.onselectstart=function(){return!1}),t(!1),K(l),i=e(this);var a=i.offset(),c=D(o)[0]-a.top,f=D(o)[1]-a.left,m=i.height()+a.top,p=i.width()+a.left;m>c&&c>0&&p>f&&f>0&&(r=c,s=f),B(i,"active",h.autoExpandScrollbar)}}).bind("touchmove."+f,function(e){e.stopImmediatePropagation(),e.preventDefault();var t=i.offset(),n=D(e)[0]-t.top,a=D(e)[1]-t.left;o(r,s,n,a)}),e(n).bind("mousemove."+f+" pointermove."+f+" MSPointerMove."+f,function(e){if(i){var t=i.offset(),n=D(e)[0]-t.top,a=D(e)[1]-t.left;
if(r===n)return;o(r,s,n,a)}}).add(v).bind("mouseup."+f+" touchend."+f+" pointerup."+f+" MSPointerUp."+f,function(){i&&(B(i,"active",h.autoExpandScrollbar),i=null),u=!1,d&&(n.onselectstart=null),t(!0)})},W=function(){function t(e,t){var n=[1.5*t,2*t,t/1.5,t/2];return e>90?t>4?n[0]:n[3]:e>60?t>3?n[3]:n[2]:e>30?t>8?n[1]:t>6?n[0]:t>4?t:n[2]:t>8?t:n[3]}function n(e,t,n,o,i,a){e&&G(w,e.toString(),{dur:t,scrollEasing:n,dir:o,overwrite:i,drag:a})}var i,r,s,l,c,d,h,f,m,p,g,v,x,w=e(this),y=w.data(a),b=y.opt,S=a+"_"+y.idx,_=e("#mCSB_"+y.idx),C=e("#mCSB_"+y.idx+"_container"),T=[e("#mCSB_"+y.idx+"_dragger_vertical"),e("#mCSB_"+y.idx+"_dragger_horizontal")],B=[],k=[],M=0,I="yx"===b.axis?"none":"all",O=[];C.bind("touchstart."+S+" pointerdown."+S+" MSPointerDown."+S,function(e){if(!tt(e)||u||D(e)[2])return void(o=0);o=1,v=0,x=0;var t=C.offset();i=D(e)[0]-t.top,r=D(e)[1]-t.left,O=[D(e)[0],D(e)[1]]}).bind("touchmove."+S+" pointermove."+S+" MSPointerMove."+S,function(e){if(tt(e)&&!u&&!D(e)[2]&&(e.stopImmediatePropagation(),!x||v)){d=Q();var t=_.offset(),o=D(e)[0]-t.top,a=D(e)[1]-t.left,s="mcsLinearOut";if(B.push(o),k.push(a),O[2]=Math.abs(D(e)[0]-O[0]),O[3]=Math.abs(D(e)[1]-O[1]),y.overflowed[0])var l=T[0].parent().height()-T[0].height(),c=i-o>0&&o-i>-(l*y.scrollRatio.y)&&(2*O[3]<O[2]||"yx"===b.axis);if(y.overflowed[1])var h=T[1].parent().width()-T[1].width(),f=r-a>0&&a-r>-(h*y.scrollRatio.x)&&(2*O[2]<O[3]||"yx"===b.axis);c||f?(e.preventDefault(),v=1):x=1,p="yx"===b.axis?[i-o,r-a]:"x"===b.axis?[null,r-a]:[i-o,null],C[0].idleTimer=250,y.overflowed[0]&&n(p[0],M,s,"y","all",!0),y.overflowed[1]&&n(p[1],M,s,"x",I,!0)}}),_.bind("touchstart."+S+" pointerdown."+S+" MSPointerDown."+S,function(e){if(!tt(e)||u||D(e)[2])return void(o=0);o=1,e.stopImmediatePropagation(),K(w),c=Q();var t=_.offset();s=D(e)[0]-t.top,l=D(e)[1]-t.left,B=[],k=[]}).bind("touchend."+S+" pointerup."+S+" MSPointerUp."+S,function(e){if(tt(e)&&!u&&!D(e)[2]){e.stopImmediatePropagation(),v=0,x=0,h=Q();var o=_.offset(),i=D(e)[0]-o.top,a=D(e)[1]-o.left;if(!(h-d>30)){m=1e3/(h-c);var r="mcsEaseOut",w=2.5>m,S=w?[B[B.length-2],k[k.length-2]]:[0,0];f=w?[i-S[0],a-S[1]]:[i-s,a-l];var T=[Math.abs(f[0]),Math.abs(f[1])];m=w?[Math.abs(f[0]/4),Math.abs(f[1]/4)]:[m,m];var M=[Math.abs(C[0].offsetTop)-f[0]*t(T[0]/m[0],m[0]),Math.abs(C[0].offsetLeft)-f[1]*t(T[1]/m[1],m[1])];p="yx"===b.axis?[M[0],M[1]]:"x"===b.axis?[null,M[1]]:[M[0],null],g=[4*T[0]+b.scrollInertia,4*T[1]+b.scrollInertia];var O=parseInt(b.contentTouchScroll)||0;p[0]=T[0]>O?p[0]:0,p[1]=T[1]>O?p[1]:0,y.overflowed[0]&&n(p[0],g[0],r,"y",I,!1),y.overflowed[1]&&n(p[1],g[1],r,"x",I,!1)}}})},L=function(){function i(){return t.getSelection?t.getSelection().toString():n.selection&&"Control"!=n.selection.type?n.selection.createRange().text:0}function r(e,t,n){h.type=n&&s?"stepped":"stepless",h.scrollAmount=10,j(l,e,t,"mcsLinearOut",n?60:null)}var s,l=e(this),c=l.data(a),d=c.opt,h=c.sequential,f=a+"_"+c.idx,m=e("#mCSB_"+c.idx+"_container"),p=m.parent();m.bind("mousedown."+f,function(){o||s||(s=1,u=!0)}).add(n).bind("mousemove."+f,function(e){if(!o&&s&&i()){var t=m.offset(),n=D(e)[0]-t.top+m[0].offsetTop,a=D(e)[1]-t.left+m[0].offsetLeft;n>0&&n<p.height()&&a>0&&a<p.width()?h.step&&r("off",null,"stepped"):("x"!==d.axis&&c.overflowed[0]&&(0>n?r("on",38):n>p.height()&&r("on",40)),"y"!==d.axis&&c.overflowed[1]&&(0>a?r("on",37):a>p.width()&&r("on",39)))}}).bind("mouseup."+f,function(){o||(s&&(s=0,r("off",null)),u=!1)})},A=function(){function t(e){var t=null;try{var n=e.contentDocument||e.contentWindow.document;t=n.body.innerHTML}catch(o){}return null!==t}var n=e(this),o=n.data(a);if(o){var i=o.opt,r=a+"_"+o.idx,s=e("#mCSB_"+o.idx),l=[e("#mCSB_"+o.idx+"_dragger_vertical"),e("#mCSB_"+o.idx+"_dragger_horizontal")],c=e("#mCSB_"+o.idx+"_container").find("iframe"),u=s;c.length&&c.each(function(){var n=this;t(n)&&(u=u.add(e(n).contents().find("body")))}),u.bind("mousewheel."+r,function(t,a){if(K(n),!R(n,t.target)){var r="auto"!==i.mouseWheel.deltaFactor?parseInt(i.mouseWheel.deltaFactor):d&&t.deltaFactor<100?100:t.deltaFactor||100;if("x"===i.axis||"x"===i.mouseWheel.axis)var c="x",u=[Math.round(r*o.scrollRatio.x),parseInt(i.mouseWheel.scrollAmount)],h="auto"!==i.mouseWheel.scrollAmount?u[1]:u[0]>=s.width()?.9*s.width():u[0],f=Math.abs(e("#mCSB_"+o.idx+"_container")[0].offsetLeft),m=l[1][0].offsetLeft,p=l[1].parent().width()-l[1].width(),g=t.deltaX||t.deltaY||a;else var c="y",u=[Math.round(r*o.scrollRatio.y),parseInt(i.mouseWheel.scrollAmount)],h="auto"!==i.mouseWheel.scrollAmount?u[1]:u[0]>=s.height()?.9*s.height():u[0],f=Math.abs(e("#mCSB_"+o.idx+"_container")[0].offsetTop),m=l[0][0].offsetTop,p=l[0].parent().height()-l[0].height(),g=t.deltaY||a;"y"===c&&!o.overflowed[0]||"x"===c&&!o.overflowed[1]||(i.mouseWheel.invert&&(g=-g),i.mouseWheel.normalizeDelta&&(g=0>g?-1:1),(g>0&&0!==m||0>g&&m!==p||i.mouseWheel.preventDefault)&&(t.stopImmediatePropagation(),t.preventDefault()),G(n,(f-g*h).toString(),{dir:c}))}})}},R=function(t,n){var o=n.nodeName.toLowerCase(),i=t.data(a).opt.mouseWheel.disableOver,r=["select","textarea"];return e.inArray(o,i)>-1&&!(e.inArray(o,r)>-1&&!e(n).is(":focus"))},P=function(){var t=e(this),n=t.data(a),o=a+"_"+n.idx,i=e("#mCSB_"+n.idx+"_container"),r=i.parent(),s=e(".mCSB_"+n.idx+"_scrollbar ."+h[12]);s.bind("touchstart."+o+" pointerdown."+o+" MSPointerDown."+o,function(){u=!0}).bind("touchend."+o+" pointerup."+o+" MSPointerUp."+o,function(){u=!1}).bind("click."+o,function(o){if(e(o.target).hasClass(h[12])||e(o.target).hasClass("mCSB_draggerRail")){K(t);var a=e(this),s=a.find(".mCSB_dragger");if(a.parent(".mCSB_scrollTools_horizontal").length>0){if(!n.overflowed[1])return;var l="x",c=o.pageX>s.offset().left?-1:1,d=Math.abs(i[0].offsetLeft)-.9*c*r.width()}else{if(!n.overflowed[0])return;var l="y",c=o.pageY>s.offset().top?-1:1,d=Math.abs(i[0].offsetTop)-.9*c*r.height()}G(t,d.toString(),{dir:l,scrollEasing:"mcsEaseInOut"})}})},z=function(){var t=e(this),o=t.data(a),i=o.opt,r=a+"_"+o.idx,s=e("#mCSB_"+o.idx+"_container"),l=s.parent();s.bind("focusin."+r,function(){var o=e(n.activeElement),a=s.find(".mCustomScrollBox").length,r=0;o.is(i.advanced.autoScrollOnFocus)&&(K(t),clearTimeout(t[0]._focusTimeout),t[0]._focusTimer=a?(r+17)*a:0,t[0]._focusTimeout=setTimeout(function(){var e=[ot(o)[0],ot(o)[1]],n=[s[0].offsetTop,s[0].offsetLeft],a=[n[0]+e[0]>=0&&n[0]+e[0]<l.height()-o.outerHeight(!1),n[1]+e[1]>=0&&n[0]+e[1]<l.width()-o.outerWidth(!1)],c="yx"!==i.axis||a[0]||a[1]?"all":"none";"x"===i.axis||a[0]||G(t,e[0].toString(),{dir:"y",scrollEasing:"mcsEaseInOut",overwrite:c,dur:r}),"y"===i.axis||a[1]||G(t,e[1].toString(),{dir:"x",scrollEasing:"mcsEaseInOut",overwrite:c,dur:r})},t[0]._focusTimer))})},q=function(){var t=e(this),n=t.data(a),o=a+"_"+n.idx,i=e("#mCSB_"+n.idx+"_container").parent();i.bind("scroll."+o,function(){(0!==i.scrollTop()||0!==i.scrollLeft())&&e(".mCSB_"+n.idx+"_scrollbar").css("visibility","hidden")})},F=function(){var t=e(this),n=t.data(a),o=n.opt,i=n.sequential,r=a+"_"+n.idx,s=".mCSB_"+n.idx+"_scrollbar",l=e(s+">a");l.bind("mousedown."+r+" touchstart."+r+" pointerdown."+r+" MSPointerDown."+r+" mouseup."+r+" touchend."+r+" pointerup."+r+" MSPointerUp."+r+" mouseout."+r+" pointerout."+r+" MSPointerOut."+r+" click."+r,function(a){function r(e,n){i.scrollAmount=o.snapAmount||o.scrollButtons.scrollAmount,j(t,e,n)}if(a.preventDefault(),et(a)){var s=e(this).attr("class");switch(i.type=o.scrollButtons.scrollType,a.type){case"mousedown":case"touchstart":case"pointerdown":case"MSPointerDown":if("stepped"===i.type)return;u=!0,n.tweenRunning=!1,r("on",s);break;case"mouseup":case"touchend":case"pointerup":case"MSPointerUp":case"mouseout":case"pointerout":case"MSPointerOut":if("stepped"===i.type)return;u=!1,i.dir&&r("off",s);break;case"click":if("stepped"!==i.type||n.tweenRunning)return;r("on",s)}}})},U=function(){var t=e(this),o=t.data(a),i=o.opt,r=o.sequential,s=a+"_"+o.idx,l=e("#mCSB_"+o.idx),c=e("#mCSB_"+o.idx+"_container"),d=c.parent(),u="input,textarea,select,datalist,keygen,[contenteditable='true']";l.attr("tabindex","0").bind("blur."+s+" keydown."+s+" keyup."+s,function(a){function s(e,n){r.type=i.keyboard.scrollType,r.scrollAmount=i.snapAmount||i.keyboard.scrollAmount,"stepped"===r.type&&o.tweenRunning||j(t,e,n)}switch(a.type){case"blur":o.tweenRunning&&r.dir&&s("off",null);break;case"keydown":case"keyup":var l=a.keyCode?a.keyCode:a.which,h="on";if("x"!==i.axis&&(38===l||40===l)||"y"!==i.axis&&(37===l||39===l)){if((38===l||40===l)&&!o.overflowed[0]||(37===l||39===l)&&!o.overflowed[1])return;"keyup"===a.type&&(h="off"),e(n.activeElement).is(u)||(a.preventDefault(),a.stopImmediatePropagation(),s(h,l))}else if(33===l||34===l){if((o.overflowed[0]||o.overflowed[1])&&(a.preventDefault(),a.stopImmediatePropagation()),"keyup"===a.type){K(t);var f=34===l?-1:1;if("x"===i.axis||"yx"===i.axis&&o.overflowed[1]&&!o.overflowed[0])var m="x",p=Math.abs(c[0].offsetLeft)-.9*f*d.width();else var m="y",p=Math.abs(c[0].offsetTop)-.9*f*d.height();G(t,p.toString(),{dir:m,scrollEasing:"mcsEaseInOut"})}}else if((35===l||36===l)&&!e(n.activeElement).is(u)&&((o.overflowed[0]||o.overflowed[1])&&(a.preventDefault(),a.stopImmediatePropagation()),"keyup"===a.type)){if("x"===i.axis||"yx"===i.axis&&o.overflowed[1]&&!o.overflowed[0])var m="x",p=35===l?Math.abs(d.width()-c.outerWidth(!1)):0;else var m="y",p=35===l?Math.abs(d.height()-c.outerHeight(!1)):0;G(t,p.toString(),{dir:m,scrollEasing:"mcsEaseInOut"})}}})},j=function(t,n,o,i,r){function s(e){var n="stepped"!==u.type,o=r?r:e?n?p/1.5:g:1e3/60,a=e?n?7.5:40:2.5,l=[Math.abs(f[0].offsetTop),Math.abs(f[0].offsetLeft)],d=[c.scrollRatio.y>10?10:c.scrollRatio.y,c.scrollRatio.x>10?10:c.scrollRatio.x],h="x"===u.dir[0]?l[1]+u.dir[1]*d[1]*a:l[0]+u.dir[1]*d[0]*a,m="x"===u.dir[0]?l[1]+u.dir[1]*parseInt(u.scrollAmount):l[0]+u.dir[1]*parseInt(u.scrollAmount),v="auto"!==u.scrollAmount?m:h,x=i?i:e?n?"mcsLinearOut":"mcsEaseInOut":"mcsLinear",w=e?!0:!1;return e&&17>o&&(v="x"===u.dir[0]?l[1]:l[0]),G(t,v.toString(),{dir:u.dir[0],scrollEasing:x,dur:o,onComplete:w}),e?void(u.dir=!1):(clearTimeout(u.step),void(u.step=setTimeout(function(){s()},o)))}function l(){clearTimeout(u.step),J(u,"step"),K(t)}var c=t.data(a),d=c.opt,u=c.sequential,f=e("#mCSB_"+c.idx+"_container"),m="stepped"===u.type?!0:!1,p=d.scrollInertia<26?26:d.scrollInertia,g=d.scrollInertia<1?17:d.scrollInertia;switch(n){case"on":if(u.dir=[o===h[16]||o===h[15]||39===o||37===o?"x":"y",o===h[13]||o===h[15]||38===o||37===o?-1:1],K(t),nt(o)&&"stepped"===u.type)return;s(m);break;case"off":l(),(m||c.tweenRunning&&u.dir)&&s(!0)}},$=function(t){var n=e(this).data(a).opt,o=[];return"function"==typeof t&&(t=t()),t instanceof Array?o=t.length>1?[t[0],t[1]]:"x"===n.axis?[null,t[0]]:[t[0],null]:(o[0]=t.y?t.y:t.x||"x"===n.axis?null:t,o[1]=t.x?t.x:t.y||"y"===n.axis?null:t),"function"==typeof o[0]&&(o[0]=o[0]()),"function"==typeof o[1]&&(o[1]=o[1]()),o},X=function(t,n){if(null!=t&&"undefined"!=typeof t){var o=e(this),i=o.data(a),r=i.opt,s=e("#mCSB_"+i.idx+"_container"),l=s.parent(),c=typeof t;n||(n="x"===r.axis?"x":"y");var d="x"===n?s.outerWidth(!1):s.outerHeight(!1),u="x"===n?s[0].offsetLeft:s[0].offsetTop,h="x"===n?"left":"top";switch(c){case"function":return t();case"object":var m=t.jquery?t:e(t);if(!m.length)return;return"x"===n?ot(m)[1]:ot(m)[0];case"string":case"number":if(nt(t))return Math.abs(t);if(-1!==t.indexOf("%"))return Math.abs(d*parseInt(t)/100);if(-1!==t.indexOf("-="))return Math.abs(u-parseInt(t.split("-=")[1]));if(-1!==t.indexOf("+=")){var p=u+parseInt(t.split("+=")[1]);return p>=0?0:Math.abs(p)}if(-1!==t.indexOf("px")&&nt(t.split("px")[0]))return Math.abs(t.split("px")[0]);if("top"===t||"left"===t)return 0;if("bottom"===t)return Math.abs(l.height()-s.outerHeight(!1));if("right"===t)return Math.abs(l.width()-s.outerWidth(!1));if("first"===t||"last"===t){var m=s.find(":"+t);return"x"===n?ot(m)[1]:ot(m)[0]}return e(t).length?"x"===n?ot(e(t))[1]:ot(e(t))[0]:(s.css(h,t),void f.update.call(null,o[0]))}}},N=function(t){function n(){clearTimeout(u[0].autoUpdate),u[0].autoUpdate=setTimeout(function(){return d.advanced.updateOnSelectorChange&&(m=r(),m!==y)?(s(3),void(y=m)):(d.advanced.updateOnContentResize&&(p=[u.outerHeight(!1),u.outerWidth(!1),v.height(),v.width(),w()[0],w()[1]],(p[0]!==b[0]||p[1]!==b[1]||p[2]!==b[2]||p[3]!==b[3]||p[4]!==b[4]||p[5]!==b[5])&&(s(p[0]!==b[0]||p[1]!==b[1]),b=p)),d.advanced.updateOnImageLoad&&(g=o(),g!==S&&(u.find("img").each(function(){i(this)}),S=g)),void((d.advanced.updateOnSelectorChange||d.advanced.updateOnContentResize||d.advanced.updateOnImageLoad)&&n()))},60)}function o(){var e=0;return d.advanced.updateOnImageLoad&&(e=u.find("img").length),e}function i(t){function n(e,t){return function(){return t.apply(e,arguments)}}function o(){this.onload=null,e(t).addClass(h[2]),s(2)}if(e(t).hasClass(h[2]))return void s();var i=new Image;i.onload=n(i,o),i.src=t.src}function r(){d.advanced.updateOnSelectorChange===!0&&(d.advanced.updateOnSelectorChange="*");var t=0,n=u.find(d.advanced.updateOnSelectorChange);return d.advanced.updateOnSelectorChange&&n.length>0&&n.each(function(){t+=e(this).height()+e(this).width()}),t}function s(e){clearTimeout(u[0].autoUpdate),f.update.call(null,l[0],e)}var l=e(this),c=l.data(a),d=c.opt,u=e("#mCSB_"+c.idx+"_container");if(t)return clearTimeout(u[0].autoUpdate),void J(u[0],"autoUpdate");var m,p,g,v=u.parent(),x=[e("#mCSB_"+c.idx+"_scrollbar_vertical"),e("#mCSB_"+c.idx+"_scrollbar_horizontal")],w=function(){return[x[0].is(":visible")?x[0].outerHeight(!0):0,x[1].is(":visible")?x[1].outerWidth(!0):0]},y=r(),b=[u.outerHeight(!1),u.outerWidth(!1),v.height(),v.width(),w()[0],w()[1]],S=o();n()},Y=function(e,t,n){return Math.round(e/t)*t-n},K=function(t){var n=t.data(a),o=e("#mCSB_"+n.idx+"_container,#mCSB_"+n.idx+"_container_wrapper,#mCSB_"+n.idx+"_dragger_vertical,#mCSB_"+n.idx+"_dragger_horizontal");o.each(function(){Z.call(this)})},G=function(t,n,o){function i(e){return l&&c.callbacks[e]&&"function"==typeof c.callbacks[e]}function r(){return[c.callbacks.alwaysTriggerOffsets||w>=y[0]+S,c.callbacks.alwaysTriggerOffsets||-_>=w]}function s(){var e=[f[0].offsetTop,f[0].offsetLeft],n=[v[0].offsetTop,v[0].offsetLeft],i=[f.outerHeight(!1),f.outerWidth(!1)],a=[h.height(),h.width()];t[0].mcs={content:f,top:e[0],left:e[1],draggerTop:n[0],draggerLeft:n[1],topPct:Math.round(100*Math.abs(e[0])/(Math.abs(i[0])-a[0])),leftPct:Math.round(100*Math.abs(e[1])/(Math.abs(i[1])-a[1])),direction:o.dir}}var l=t.data(a),c=l.opt,d={trigger:"internal",dir:"y",scrollEasing:"mcsEaseOut",drag:!1,dur:c.scrollInertia,overwrite:"all",callbacks:!0,onStart:!0,onUpdate:!0,onComplete:!0},o=e.extend(d,o),u=[o.dur,o.drag?0:o.dur],h=e("#mCSB_"+l.idx),f=e("#mCSB_"+l.idx+"_container"),m=f.parent(),p=c.callbacks.onTotalScrollOffset?$.call(t,c.callbacks.onTotalScrollOffset):[0,0],g=c.callbacks.onTotalScrollBackOffset?$.call(t,c.callbacks.onTotalScrollBackOffset):[0,0];if(l.trigger=o.trigger,(0!==m.scrollTop()||0!==m.scrollLeft())&&(e(".mCSB_"+l.idx+"_scrollbar").css("visibility","visible"),m.scrollTop(0).scrollLeft(0)),"_resetY"!==n||l.contentReset.y||(i("onOverflowYNone")&&c.callbacks.onOverflowYNone.call(t[0]),l.contentReset.y=1),"_resetX"!==n||l.contentReset.x||(i("onOverflowXNone")&&c.callbacks.onOverflowXNone.call(t[0]),l.contentReset.x=1),"_resetY"!==n&&"_resetX"!==n){switch(!l.contentReset.y&&t[0].mcs||!l.overflowed[0]||(i("onOverflowY")&&c.callbacks.onOverflowY.call(t[0]),l.contentReset.x=null),!l.contentReset.x&&t[0].mcs||!l.overflowed[1]||(i("onOverflowX")&&c.callbacks.onOverflowX.call(t[0]),l.contentReset.x=null),c.snapAmount&&(n=Y(n,c.snapAmount,c.snapOffset)),o.dir){case"x":var v=e("#mCSB_"+l.idx+"_dragger_horizontal"),x="left",w=f[0].offsetLeft,y=[h.width()-f.outerWidth(!1),v.parent().width()-v.width()],b=[n,0===n?0:n/l.scrollRatio.x],S=p[1],_=g[1],C=S>0?S/l.scrollRatio.x:0,T=_>0?_/l.scrollRatio.x:0;break;case"y":var v=e("#mCSB_"+l.idx+"_dragger_vertical"),x="top",w=f[0].offsetTop,y=[h.height()-f.outerHeight(!1),v.parent().height()-v.height()],b=[n,0===n?0:n/l.scrollRatio.y],S=p[0],_=g[0],C=S>0?S/l.scrollRatio.y:0,T=_>0?_/l.scrollRatio.y:0}b[1]<0||0===b[0]&&0===b[1]?b=[0,0]:b[1]>=y[1]?b=[y[0],y[1]]:b[0]=-b[0],t[0].mcs||(s(),i("onInit")&&c.callbacks.onInit.call(t[0])),clearTimeout(f[0].onCompleteTimeout),(l.tweenRunning||!(0===w&&b[0]>=0||w===y[0]&&b[0]<=y[0]))&&(V(v[0],x,Math.round(b[1]),u[1],o.scrollEasing),V(f[0],x,Math.round(b[0]),u[0],o.scrollEasing,o.overwrite,{onStart:function(){o.callbacks&&o.onStart&&!l.tweenRunning&&(i("onScrollStart")&&(s(),c.callbacks.onScrollStart.call(t[0])),l.tweenRunning=!0,B(v),l.cbOffsets=r())},onUpdate:function(){o.callbacks&&o.onUpdate&&i("whileScrolling")&&(s(),c.callbacks.whileScrolling.call(t[0]))},onComplete:function(){if(o.callbacks&&o.onComplete){"yx"===c.axis&&clearTimeout(f[0].onCompleteTimeout);var e=f[0].idleTimer||0;f[0].onCompleteTimeout=setTimeout(function(){i("onScroll")&&(s(),c.callbacks.onScroll.call(t[0])),i("onTotalScroll")&&b[1]>=y[1]-C&&l.cbOffsets[0]&&(s(),c.callbacks.onTotalScroll.call(t[0])),i("onTotalScrollBack")&&b[1]<=T&&l.cbOffsets[1]&&(s(),c.callbacks.onTotalScrollBack.call(t[0])),l.tweenRunning=!1,f[0].idleTimer=0,B(v,"hide")},e)}}}))}},V=function(e,n,o,i,a,r,s){function l(){S.stop||(w||p.call(),w=Q()-x,c(),w>=S.time&&(S.time=w>S.time?w+f-(w-S.time):w+f-1,S.time<w+1&&(S.time=w+1)),S.time<i?S.id=m(l):v.call())}function c(){i>0?(S.currVal=h(S.time,y,_,i,a),b[n]=Math.round(S.currVal)+"px"):b[n]=o+"px",g.call()}function d(){f=1e3/60,S.time=w+f,m=t.requestAnimationFrame?t.requestAnimationFrame:function(e){return c(),setTimeout(e,.01)},S.id=m(l)}function u(){null!=S.id&&(t.requestAnimationFrame?t.cancelAnimationFrame(S.id):clearTimeout(S.id),S.id=null)}function h(e,t,n,o,i){switch(i){case"linear":case"mcsLinear":return n*e/o+t;case"mcsLinearOut":return e/=o,e--,n*Math.sqrt(1-e*e)+t;case"easeInOutSmooth":return e/=o/2,1>e?n/2*e*e+t:(e--,-n/2*(e*(e-2)-1)+t);case"easeInOutStrong":return e/=o/2,1>e?n/2*Math.pow(2,10*(e-1))+t:(e--,n/2*(-Math.pow(2,-10*e)+2)+t);case"easeInOut":case"mcsEaseInOut":return e/=o/2,1>e?n/2*e*e*e+t:(e-=2,n/2*(e*e*e+2)+t);case"easeOutSmooth":return e/=o,e--,-n*(e*e*e*e-1)+t;case"easeOutStrong":return n*(-Math.pow(2,-10*e/o)+1)+t;case"easeOut":case"mcsEaseOut":default:var a=(e/=o)*e,r=a*e;return t+n*(.499999999999997*r*a+-2.5*a*a+5.5*r+-6.5*a+4*e)}}e._mTween||(e._mTween={top:{},left:{}});var f,m,s=s||{},p=s.onStart||function(){},g=s.onUpdate||function(){},v=s.onComplete||function(){},x=Q(),w=0,y=e.offsetTop,b=e.style,S=e._mTween[n];"left"===n&&(y=e.offsetLeft);var _=o-y;S.stop=0,"none"!==r&&u(),d()},Q=function(){return t.performance&&t.performance.now?t.performance.now():t.performance&&t.performance.webkitNow?t.performance.webkitNow():Date.now?Date.now():(new Date).getTime()},Z=function(){var e=this;e._mTween||(e._mTween={top:{},left:{}});for(var n=["top","left"],o=0;o<n.length;o++){var i=n[o];e._mTween[i].id&&(t.requestAnimationFrame?t.cancelAnimationFrame(e._mTween[i].id):clearTimeout(e._mTween[i].id),e._mTween[i].id=null,e._mTween[i].stop=1)}},J=function(e,t){try{delete e[t]}catch(n){e[t]=null}},et=function(e){return!(e.which&&1!==e.which)},tt=function(e){var t=e.originalEvent.pointerType;return!(t&&"touch"!==t&&2!==t)},nt=function(e){return!isNaN(parseFloat(e))&&isFinite(e)},ot=function(e){var t=e.parents(".mCSB_container");return[e.offset().top-t.offset().top,e.offset().left-t.offset().left]};e.fn[i]=function(t){return f[t]?f[t].apply(this,Array.prototype.slice.call(arguments,1)):"object"!=typeof t&&t?void e.error("Method "+t+" does not exist"):f.init.apply(this,arguments)},e[i]=function(t){return f[t]?f[t].apply(this,Array.prototype.slice.call(arguments,1)):"object"!=typeof t&&t?void e.error("Method "+t+" does not exist"):f.init.apply(this,arguments)},e[i].defaults=s,t[i]=!0,e(t).load(function(){e(r)[i](),e.extend(e.expr[":"],{mcsInView:e.expr[":"].mcsInView||function(t){var n,o,i=e(t),a=i.parents(".mCSB_container");return a.length?(n=a.parent(),o=[a[0].offsetTop,a[0].offsetLeft],o[0]+ot(i)[0]>=0&&o[0]+ot(i)[0]<n.height()-i.outerHeight(!1)&&o[1]+ot(i)[1]>=0&&o[1]+ot(i)[1]<n.width()-i.outerWidth(!1)):void 0},mcsOverflow:e.expr[":"].mcsOverflow||function(t){var n=e(t).data(a);return n?n.overflowed[0]||n.overflowed[1]:void 0}})})})}(jQuery,window,document);var WIDTH,HEIGHT,canvas,con,g,pxs=new Array,rint=60;$(document).ready(function(){WIDTH=window.innerWidth,HEIGHT=window.innerHeight,$("#container").width(WIDTH).height(HEIGHT),canvas=document.getElementById("pixie"),$(canvas).attr("width",WIDTH).attr("height",HEIGHT),con=canvas.getContext("2d");for(var e=0;100>e;e++)pxs[e]=new Circle,pxs[e].reset();setInterval(draw,rint)}),function(e,t,n){function o(e){var t=S(),n=t.querySelector("h2"),o=t.querySelector("p"),i=t.querySelector("button.cancel"),a=t.querySelector("button.confirm");if(n.innerHTML=e.html?e.title:k(e.title).split("\n").join("<br>"),o.innerHTML=e.html?e.text:k(e.text||"").split("\n").join("<br>"),e.text&&I(o),e.customClass)T(t,e.customClass),t.setAttribute("data-custom-class",e.customClass);else{var r=t.getAttribute("data-custom-class");B(t,r),t.setAttribute("data-custom-class","")}if(E(t.querySelectorAll(".sa-icon")),e.type&&!d()){for(var l=!1,c=0;c<y.length;c++)if(e.type===y[c]){l=!0;break}if(!l)return u("Unknown alert type: "+e.type),!1;var h=t.querySelector(".sa-icon.sa-"+e.type);switch(I(h),e.type){case"success":T(h,"animate"),T(h.querySelector(".sa-tip"),"animateSuccessTip"),T(h.querySelector(".sa-long"),"animateSuccessLong");break;case"error":T(h,"animateErrorIcon"),T(h.querySelector(".sa-x-mark"),"animateXMark");break;case"warning":T(h,"pulseWarning"),T(h.querySelector(".sa-body"),"pulseWarningIns"),T(h.querySelector(".sa-dot"),"pulseWarningIns")}}if(e.imageUrl){var f=t.querySelector(".sa-icon.sa-custom");f.style.backgroundImage="url("+e.imageUrl+")",I(f);var m=80,p=80;if(e.imageSize){var g=e.imageSize.toString().split("x"),v=g[0],x=g[1];v&&x?(m=v,p=x):u("Parameter imageSize expects value with format WIDTHxHEIGHT, got "+e.imageSize)}f.setAttribute("style",f.getAttribute("style")+"width:"+m+"px; height:"+p+"px")}t.setAttribute("data-has-cancel-button",e.showCancelButton),e.showCancelButton?i.style.display="inline-block":E(i),t.setAttribute("data-has-confirm-button",e.showConfirmButton),e.showConfirmButton?a.style.display="inline-block":E(a),e.cancelButtonText&&(i.innerHTML=k(e.cancelButtonText)),e.confirmButtonText&&(a.innerHTML=k(e.confirmButtonText)),a.style.backgroundColor=e.confirmButtonColor,s(a,e.confirmButtonColor),t.setAttribute("data-allow-ouside-click",e.allowOutsideClick);var w=e.doneFunction?!0:!1;t.setAttribute("data-has-done-function",w),e.animation?t.setAttribute("data-animation","pop"):t.setAttribute("data-animation","none"),t.setAttribute("data-timer",e.timer)}function i(e,t){e=String(e).replace(/[^0-9a-f]/gi,""),e.length<6&&(e=e[0]+e[0]+e[1]+e[1]+e[2]+e[2]),t=t||0;var n,o,i="#";for(o=0;3>o;o++)n=parseInt(e.substr(2*o,2),16),n=Math.round(Math.min(Math.max(0,n+n*t),255)).toString(16),i+=("00"+n).substr(n.length);return i}function a(e,t){for(var n in t)t.hasOwnProperty(n)&&(e[n]=t[n]);return e}function r(e){var t=/^#?([a-f\d]{2})([a-f\d]{2})([a-f\d]{2})$/i.exec(e);return t?parseInt(t[1],16)+", "+parseInt(t[2],16)+", "+parseInt(t[3],16):null}function s(e,t){var n=r(t);e.style.boxShadow="0 0 2px rgba("+n+", 0.8), inset 0 0 0 1px rgba(0, 0, 0, 0.05)"}function l(){var e=S();W(_(),10),I(e),T(e,"showSweetAlert"),B(e,"hideSweetAlert"),h=t.activeElement;var n=e.querySelector("button.confirm");n.focus(),setTimeout(function(){T(e,"visible")},500);var o=e.getAttribute("data-timer");"null"!==o&&""!==o&&(e.timeout=setTimeout(function(){g.close()},o))}function c(){var e=S();e.style.marginTop=H(S())}function d(){return e.attachEvent&&!e.addEventListener?!0:!1}function u(t){e.console&&e.console.log("SweetAlert: "+t)}var h,f,m,p,g,v,x=".sweet-alert",w=".sweet-overlay",y=["error","warning","info","success"],b={title:"",text:"",type:null,allowOutsideClick:!1,showConfirmButton:!0,showCancelButton:!1,closeOnConfirm:!0,closeOnCancel:!0,confirmButtonText:"OK",confirmButtonColor:"#AEDEF4",cancelButtonText:"Cancel",imageUrl:null,imageSize:null,timer:null,customClass:"",html:!1,animation:!0,allowEscapeKey:!0},S=function(){var e=t.querySelector(x);return e||(P(),e=S()),e},_=function(){return t.querySelector(w)},C=function(e,t){return new RegExp(" "+t+" ").test(" "+e.className+" ")},T=function(e,t){C(e,t)||(e.className+=" "+t)},B=function(e,t){var n=" "+e.className.replace(/[\t\r\n]/g," ")+" ";if(C(e,t)){for(;n.indexOf(" "+t+" ")>=0;)n=n.replace(" "+t+" "," ");e.className=n.replace(/^\s+|\s+$/g,"")}},k=function(e){var n=t.createElement("div");return n.appendChild(t.createTextNode(e)),n.innerHTML},M=function(e){e.style.opacity="",e.style.display="block"},I=function(e){if(e&&!e.length)return M(e);for(var t=0;t<e.length;++t)M(e[t])},O=function(e){e.style.opacity="",e.style.display="none"},E=function(e){if(e&&!e.length)return O(e);for(var t=0;t<e.length;++t)O(e[t])},D=function(e,t){for(var n=t.parentNode;null!==n;){if(n===e)return!0;n=n.parentNode}return!1},H=function(e){e.style.left="-9999px",e.style.display="block";var t,n=e.clientHeight;return t="undefined"!=typeof getComputedStyle?parseInt(getComputedStyle(e).getPropertyValue("padding"),10):parseInt(e.currentStyle.padding),e.style.left="",e.style.display="none","-"+parseInt(n/2+t)+"px"},W=function(e,t){if(+e.style.opacity<1){t=t||16,e.style.opacity=0,e.style.display="block";var n=+new Date,o=function(){e.style.opacity=+e.style.opacity+(new Date-n)/100,n=+new Date,+e.style.opacity<1&&setTimeout(o,t)};o()}e.style.display="block"},L=function(e,t){t=t||16,e.style.opacity=1;var n=+new Date,o=function(){e.style.opacity=+e.style.opacity-(new Date-n)/100,n=+new Date,+e.style.opacity>0?setTimeout(o,t):e.style.display="none"};o()},A=function(n){if("function"==typeof MouseEvent){var o=new MouseEvent("click",{view:e,bubbles:!1,cancelable:!0});n.dispatchEvent(o)}else if(t.createEvent){var i=t.createEvent("MouseEvents");i.initEvent("click",!1,!1),n.dispatchEvent(i)}else t.createEventObject?n.fireEvent("onclick"):"function"==typeof n.onclick&&n.onclick()},R=function(t){"function"==typeof t.stopPropagation?(t.stopPropagation(),t.preventDefault()):e.event&&e.event.hasOwnProperty("cancelBubble")&&(e.event.cancelBubble=!0)},P=function(){var e='<div class="sweet-overlay" tabIndex="-1"></div><div class="sweet-alert" tabIndex="-1"><div class="sa-icon sa-error"><span class="sa-x-mark"><span class="sa-line sa-left"></span><span class="sa-line sa-right"></span></span></div><div class="sa-icon sa-warning"> <span class="sa-body"></span> <span class="sa-dot"></span> </div> <div class="sa-icon sa-info"></div> <div class="sa-icon sa-success"> <span class="sa-line sa-tip"></span> <span class="sa-line sa-long"></span> <div class="sa-placeholder"></div> <div class="sa-fix"></div> </div> <div class="sa-icon sa-custom"></div> <h2>Title</h2><p>Text</p><button class="cancel" tabIndex="2">Cancel</button><button class="confirm" tabIndex="1">OK</button></div>',n=t.createElement("div");for(n.innerHTML=e;n.firstChild;)t.body.appendChild(n.firstChild)};g=v=function(){function r(e){var t=v;return"undefined"!=typeof t[e]?t[e]:b[e]}function d(t){var o=t||e.event,i=o.keyCode||o.which;if(-1!==[9,13,32,27].indexOf(i)){for(var a=o.target||o.srcElement,r=-1,l=0;l<H.length;l++)if(a===H[l]){r=l;break}9===i?(a=-1===r?O:r===H.length-1?H[0]:H[r+1],R(o),a.focus(),s(a,x.confirmButtonColor)):(a=13===i||32===i?-1===r?O:n:27===i&&x.allowEscapeKey===!0?E:n,a!==n&&A(a,o))}}function h(t){var n=t||e.event,o=n.target||n.srcElement,i=n.relatedTarget,a=C(B,"visible");if(a){var r=-1;if(null!==i){for(var s=0;s<H.length;s++)if(i===H[s]){r=s;break}-1===r&&o.focus()}else p=o}}var v=arguments[0];if(arguments[0]===n)return u("SweetAlert expects at least 1 attribute!"),!1;var x=a({},b);switch(typeof arguments[0]){case"string":x.title=arguments[0],x.text=arguments[1]||"",x.type=arguments[2]||"";break;case"object":if(arguments[0].title===n)return u('Missing "title" argument!'),!1;x.title=arguments[0].title;for(var w=["text","type","customClass","allowOutsideClick","showConfirmButton","showCancelButton","closeOnConfirm","closeOnCancel","timer","confirmButtonColor","cancelButtonText","imageUrl","imageSize","html","animation","allowEscapeKey"],y=w.length,_=0;y>_;_++){var T=w[_];x[T]=r(T)}x.confirmButtonText=x.showCancelButton?"Confirm":b.confirmButtonText,x.confirmButtonText=r("confirmButtonText"),x.doneFunction=arguments[1]||null;break;default:return u('Unexpected type of argument! Expected "string" or "object", got '+typeof arguments[0]),!1}o(x),c(),l();for(var B=S(),k=function(t){var n=t||e.event,o=n.target||n.srcElement,a=-1!==o.className.indexOf("confirm"),r=C(B,"visible"),s=x.doneFunction&&"true"===B.getAttribute("data-has-done-function");switch(n.type){case"mouseover":a&&(o.style.backgroundColor=i(x.confirmButtonColor,-.04));break;case"mouseout":a&&(o.style.backgroundColor=x.confirmButtonColor);break;case"mousedown":a&&(o.style.backgroundColor=i(x.confirmButtonColor,-.14));break;case"mouseup":a&&(o.style.backgroundColor=i(x.confirmButtonColor,-.04));break;case"focus":var l=B.querySelector("button.confirm"),c=B.querySelector("button.cancel");a?c.style.boxShadow="none":l.style.boxShadow="none";break;case"click":if(a&&s&&r)x.doneFunction(!0),x.closeOnConfirm&&g.close();else if(s&&r){var d=String(x.doneFunction).replace(/\s/g,""),u="function("===d.substring(0,9)&&")"!==d.substring(9,10);u&&x.doneFunction(!1),x.closeOnCancel&&g.close()}else g.close()}},M=B.querySelectorAll("button"),I=0;I<M.length;I++)M[I].onclick=k,M[I].onmouseover=k,M[I].onmouseout=k,M[I].onmousedown=k,M[I].onfocus=k;f=t.onclick,t.onclick=function(t){var n=t||e.event,o=n.target||n.srcElement,i=B===o,a=D(B,o),r=C(B,"visible"),s="true"===B.getAttribute("data-allow-ouside-click");!i&&!a&&r&&s&&g.close()};var O=B.querySelector("button.confirm"),E=B.querySelector("button.cancel"),H=B.querySelectorAll("button[tabindex]");m=e.onkeydown,e.onkeydown=d,O.onblur=h,E.onblur=h,e.onfocus=function(){e.setTimeout(function(){p!==n&&(p.focus(),p=n)},0)}},g.setDefaults=v.setDefaults=function(e){if(!e)throw new Error("userParams is required");if("object"!=typeof e)throw new Error("userParams has to be a object");a(b,e)},g.close=v.close=function(){var o=S();L(_(),5),L(o,5),B(o,"showSweetAlert"),T(o,"hideSweetAlert"),B(o,"visible");var i=o.querySelector(".sa-icon.sa-success");B(i,"animate"),B(i.querySelector(".sa-tip"),"animateSuccessTip"),B(i.querySelector(".sa-long"),"animateSuccessLong");var a=o.querySelector(".sa-icon.sa-error");B(a,"animateErrorIcon"),B(a.querySelector(".sa-x-mark"),"animateXMark");var r=o.querySelector(".sa-icon.sa-warning");B(r,"pulseWarning"),B(r.querySelector(".sa-body"),"pulseWarningIns"),B(r.querySelector(".sa-dot"),"pulseWarningIns"),e.onkeydown=m,t.onclick=f,h&&h.focus(),p=n,clearTimeout(o.timeout)},"function"==typeof define&&define.amd?define(function(){return g}):"undefined"!=typeof module&&module.exports?module.exports=g:"undefined"!=typeof e&&(e.sweetAlert=e.swal=g)}(window,document),$(window).on("load",function(){$("#loader-wrapper").fadeOut(1e3)}),$(document).on("ready",function(){function e(){o.mCustomScrollbar("scrollTo","-=99999",{scrollEasing:"easeOut",scrollInertia:600})}var t=$("#m"),n=io(),o=$("section.mCustomScrollbar"),i=function(){var e=new Date;return e.getHours()+":"+e.getMinutes()};o.mCustomScrollbar({scrollButtons:{enable:!0}}),t.focus(),$("#logo").on("click",function(e){e.preventDefault(),swal({title:"Do you want go out?",text:"You will be redirect to login page",type:"warning",showCancelButton:!0,confirmButtonColor:"#DD6B55",confirmButtonText:"Sure!",closeOnConfirm:!1,closeOnCancel:!1},function(e){e?swal({title:"See you later",type:"success"},function(){n.emit("logout",{}),window.location="/login"}):swal("Cancelled","Continue chatting!","error")})}),t.keypress(function(e){return 13==e.which?(""!=t.val()&&$("#send-messages-form").submit(),!1):void 0}),$("#send-message-button").on("click",function(){$("#send-messages-form").submit()
}),$("#send-messages-form").on("submit",function(){return message=t.val(),n.emit("chat message",message),t.val(""),t.focus(),!1}),n.on("chat message",function(t){$("#messages").append('<li class="animated fadeInUp pure-g"><div class="user pure-u-1 pure-u-md-1-5">'+t.username+'<div class="time"> ['+i()+']</div></div><div class="message pure-u-1 pure-u-md-4-5"><div class="arrow-left"></div>'+t.msg+"</div></li>"),e()}),n.on("show newUser",function(t){var n=$("<li>").text(t.username+" is online  ["+i()+"]").addClass("text-center new-user animated fadeInUp");n.prepend($("<i>").addClass("fa fa-user-plus")),$("#messages").append(n),e()}),n.on("user offline",function(t){var n=$("<li>").text(t.username+" left the chat  ["+i()+"]").addClass("text-center user-offline animated fadeInUp");n.prepend($("<i>").addClass("fa fa-user-times")),$("#messages").append(n),e()}),n.on("users counter",function(e){$("#usersCount").html("Online: <strong>"+e.usersCount+"</strong> Users")})});